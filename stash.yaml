# --- Stash main config (import this via URL/QR) ---
# Repo: https://github.com/fashi88899/stash-config-FS
mode: Rule
log-level: info
allow-lan: true

dns:
  enable: true
  default-nameserver: [1.1.1.1, 8.8.8.8]

proxy-providers:
  mypool:
    type: http
    url: "https://raw.githubusercontent.com/fashi88899/stash-config-FS/main/providers/proxies.yaml"
    interval: 3600
    path: ./providers/mypool.yaml

rule-providers:
  custom:
    type: http
    behavior: classical
    url: "https://raw.githubusercontent.com/fashi88899/stash-config-FS/main/providers/ruleset.yaml"
    path: ./rules/custom.yaml
    interval: 86400

proxy-groups:
  - name: Proxy
    type: select
    use: [mypool]
  - name: Auto
    type: url-test
    use: [mypool]
    url: http://cp.cloudflare.com/generate_204
    interval: 300

rules:
  - RULE-SET,custom,Proxy
  - GEOIP,CN,DIRECT
  - MATCH,Proxy
